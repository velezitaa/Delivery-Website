import{P as o,a as u}from"./products.module.CQgbf1Qv.js";import"./notification.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const a=document.querySelector("#products-list"),p=document.querySelector("#product-item-template");await o.getProducts();u.subscribe(n=>{a.innerHTML="";for(const d of n){const e=p.content.cloneNode(!0).children[0],t=e.children[0].children[0],i=e.children[0].children[1].children[1];e.id=d.id,t.value=d.name,i.value=d.price,a.append(e)}});a.addEventListener("click",async n=>{const d=n.target.closest(".delete-btn"),e=n.target.closest(".edit-btn");if(d){const t=d.parentElement.parentElement;await o.removeProduct(t.id)}if(e){const t=e.parentElement.parentElement,i=t.dataset.status,c=t.children[0].children[0],s=t.children[0].children[1].children[1],r=t.children[1].children[0];if(i==="inputs-deshabilitados")c.removeAttribute("readonly"),s.removeAttribute("readonly"),t.dataset.status="inputs-habilitados",r.children[0].classList.add("hidden"),r.children[1].classList.remove("hidden");else{c.setAttribute("readonly",!0),s.setAttribute("readonly",!0),t.dataset.status="inputs-deshabilitados",r.children[0].classList.remove("hidden"),r.children[1].classList.add("hidden");const l={id:t.id,name:c.value,price:parseInt(s.value)};await o.updateProduct(l)}}});
