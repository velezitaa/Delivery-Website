import{R as p}from"./riders.module.CyG87SC8.js";import"./notification.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const n=document.querySelector("#email-input"),l=document.querySelector("#password-input"),c=document.querySelector("#rider-form"),m=document.querySelector("#rider-form-btn"),u=document.querySelector("#modal-fondo"),f=document.querySelector("#cerrar-modal"),v=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,L=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/;let t=!1,s=!1;const o=(e,i)=>{const r=e.parentElement.nextElementSibling,a=e.nextElementSibling;e.value===""?(e.classList.remove("input-invalid","input-valid"),r?.classList.remove("show-helper-text"),a.innerHTML="",a.classList.remove("show")):i?(e.classList.add("input-valid"),e.classList.remove("input-invalid"),r?.classList.remove("show-helper-text"),a.innerHTML='<span class="iconify" data-icon="mdi:check-circle" style="color: green;"></span>',a.classList.add("show")):(e.classList.add("input-invalid"),e.classList.remove("input-valid"),r?.classList.add("show-helper-text"),a.innerHTML='<span class="iconify" data-icon="mdi:close-circle" style="color: red;"></span>',a.classList.add("show"))},d=()=>{t&&s?m.disabled=!1:m.disabled=!0};n.addEventListener("input",e=>{t=v.test(e.target.value),o(n,t),d()});l.addEventListener("input",e=>{s=L.test(e.target.value),o(l,s),d()});c.addEventListener("submit",async e=>{if(e.preventDefault(),!(!t||!s))try{await p.addRider({email:n.value,password:l.value}),u.classList.add("hidden"),c.reset(),t=!1,s=!1,d(),o(n,t),o(l,s)}catch(i){console.log(i);let r="Error desconocido";i.response&&(r=(await i.response.json()).error),createNotification({title:"Ups! Hubo un error",description:r,type:"error"})}});f.addEventListener("click",()=>{u.classList.add("hidden"),c.reset(),t=!1,s=!1,d(),o(n,t),o(l,s)});
