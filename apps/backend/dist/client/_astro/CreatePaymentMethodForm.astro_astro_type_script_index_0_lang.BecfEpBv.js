import{c as v}from"./notification.DyHDLNjw.js";import{p as f}from"./paymentMethods.module._KgkaXYD.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const i=document.querySelector("#bank-input"),d=document.querySelector("#phone-input"),c=document.querySelector("#cedula-input"),m=document.querySelector("#payment-methods-form"),p=document.querySelector("#payment-methods-form-btn"),h=document.querySelector("#modal-fondo"),L=document.querySelector("#cerrar-modal");let a=!1,n=!1,o=!1;const t=(e,l)=>{const r=e.parentElement.nextElementSibling,s=e.nextElementSibling;e.value===""?(e.classList.remove("input-invalid","input-valid"),r?.classList.remove("show-helper-text"),s.innerHTML="",s.classList.remove("show")):l?(e.classList.add("input-valid"),e.classList.remove("input-invalid"),r?.classList.remove("show-helper-text"),s.innerHTML='<span class="iconify" data-icon="mdi:check-circle" style="color: green;"></span>',s.classList.add("show")):(e.classList.add("input-invalid"),e.classList.remove("input-valid"),r?.classList.add("show-helper-text"),s.innerHTML='<span class="iconify" data-icon="mdi:close-circle" style="color: red;"></span>',s.classList.add("show"))},u=()=>{a&&n&&o?p.disabled=!1:p.disabled=!0};i.addEventListener("input",e=>{a=e.target.value.trim().length>0,t(i,a),u()});d.addEventListener("input",e=>{n=e.target.value.length===11,t(d,n),u()});c.addEventListener("input",e=>{o=e.target.value.length>=7&&e.target.value.length<=8,t(c,o),u()});m.addEventListener("submit",async e=>{if(e.preventDefault(),!(!a||!n||!o))try{await f.addPaymentMethod({bank:i.value,phone:d.value,cedula:c.value}),h.classList.add("hidden"),m.reset(),a=!1,n=!1,o=!1,u(),t(i,a),t(d,n),t(c,o)}catch(l){console.log(l);let r="Error desconocido";l.response&&(r=(await l.response.json()).error),v({title:"Ups! Hubo un error",description:r,type:"error"})}});L.addEventListener("click",()=>{h.classList.add("hidden"),m.reset(),a=!1,n=!1,u(),t(i,a),t(d,n),t(c,o)});
