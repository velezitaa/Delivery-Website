import{P as p}from"./products.module.CQgbf1Qv.js";import"./notification.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const i=document.querySelector("#name-input"),l=document.querySelector("#price-input"),d=document.querySelector("#product-form"),m=document.querySelector("#product-form-btn"),u=document.querySelector("#modal-fondo"),f=document.querySelector("#cerrar-modal");let r=!1,s=!1;const n=(e,t)=>{const o=e.parentElement.nextElementSibling,a=e.nextElementSibling;e.value===""?(e.classList.remove("input-invalid","input-valid"),o?.classList.remove("show-helper-text"),a.innerHTML="",a.classList.remove("show")):t?(e.classList.add("input-valid"),e.classList.remove("input-invalid"),o?.classList.remove("show-helper-text"),a.innerHTML='<span class="iconify" data-icon="mdi:check-circle" style="color: green;"></span>',a.classList.add("show")):(e.classList.add("input-invalid"),e.classList.remove("input-valid"),o?.classList.add("show-helper-text"),a.innerHTML='<span class="iconify" data-icon="mdi:close-circle" style="color: red;"></span>',a.classList.add("show"))},c=()=>{r&&s?m.disabled=!1:m.disabled=!0};i.addEventListener("input",e=>{r=e.target.value.trim().length>0,n(i,r),c()});l.addEventListener("input",e=>{const t=parseInt(e.target.value);s=!isNaN(t)&&t>0,n(l,s),c()});d.addEventListener("submit",async e=>{if(e.preventDefault(),!(!r||!s))try{await p.addProduct({name:i.value,price:parseInt(l.value)}),u.classList.add("hidden"),d.reset(),r=!1,s=!1,c(),n(i,r),n(l,s)}catch(t){console.log(t);let o="Error desconocido";t.response&&(o=(await t.response.json()).error),createNotification({title:"Ups! Hubo un error",description:o,type:"error"})}});f.addEventListener("click",()=>{u.classList.add("hidden"),d.reset(),r=!1,s=!1,c(),n(i,r),n(l,s)});
