import{R as n,r as c}from"./riders.module.CyG87SC8.js";import"./notification.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const a=document.querySelector("#riders-list"),m=document.querySelector("#rider-item-template");await n.getRiders();c.subscribe(i=>{a.innerHTML="",console.log(i);for(const d of i){const t=m.content.cloneNode(!0).children[0],e=t.children[0].children[0];t.id=d.id,e.value=d.email,a.append(t)}});a.addEventListener("click",async i=>{const d=i.target.closest(".delete-btn"),t=i.target.closest(".edit-btn");if(d){const e=d.parentElement.parentElement;await n.removeRider(e.id)}if(t){const e=t.parentElement.parentElement,l=e.dataset.status,r=e.children[0].children[0],s=e.children[1].children[0];if(l==="inputs-deshabilitados")r.removeAttribute("readonly"),e.dataset.status="inputs-habilitados",s.children[0].classList.add("hidden"),s.children[1].classList.remove("hidden");else{r.setAttribute("readonly",!0),e.dataset.status="inputs-deshabilitados",s.children[0].classList.remove("hidden"),s.children[1].classList.add("hidden");const o={id:e.id,email:r.value};await n.updateRider(o)}}});
