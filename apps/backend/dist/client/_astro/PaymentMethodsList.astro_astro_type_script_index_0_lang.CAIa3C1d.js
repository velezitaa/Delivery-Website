import{p as r,a as m}from"./paymentMethods.module._KgkaXYD.js";import"./notification.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const c=document.querySelector("#payment-methods-list"),p=document.querySelector("#payment-method-item-template");await r.getPaymentMethods();m.subscribe(a=>{c.innerHTML="";for(const n of a){const t=p.content.cloneNode(!0).children[0],e=t.children[0].children[0],s=t.children[0].children[1],d=t.children[0].children[2];t.id=n.id,e.value=n.bank,s.value=n.phone,d.value=n.cedula,c.append(t)}});c.addEventListener("click",async a=>{const n=a.target.closest(".delete-btn"),t=a.target.closest(".edit-btn");if(n){const e=n.parentElement.parentElement;await r.removePaymentMethod(e.id)}if(t){const e=t.parentElement.parentElement,s=e.dataset.status,d=e.children[0].children[0],o=e.children[0].children[1],l=e.children[0].children[2],i=e.children[1].children[0];if(s==="inputs-deshabilitados")d.removeAttribute("readonly"),o.removeAttribute("readonly"),l.removeAttribute("readonly"),e.dataset.status="inputs-habilitados",i.children[0].classList.add("hidden"),i.children[1].classList.remove("hidden");else{d.setAttribute("readonly",!0),o.setAttribute("readonly",!0),l.setAttribute("readonly",!0),e.dataset.status="inputs-deshabilitados",i.children[0].classList.remove("hidden"),i.children[1].classList.add("hidden");const h={id:e.id,bank:d.value,phone:o.value,cedula:l.value};await r.updatePaymentMethod(h)}}});
