---
import ProductList from "../../components/products/ProductsList.astro";
import CreateProductForm from "../../components/products/CreateProductForm.astro";
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Gestión de Productos">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">
      Panel de Administración de Productos
    </h1>

    <div class="mb-4">
      <button
        id="abrir-modal"
        class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
      >
        Añadir Nuevo Producto
      </button>
    </div>

    <ProductList />
  </div>

  <CreateProductForm />
</Layout>

<script>
  // Obtén las referencias a los elementos del DOM
  const abrirModalBtn = document.querySelector("#abrir-modal");
  const modalFondo = document.querySelector("#modal-fondo");

  // Agrega un evento 'click' al botón para mostrar el modal
  if (abrirModalBtn && modalFondo) {
    abrirModalBtn.addEventListener("click", () => {
      modalFondo.classList.remove("hidden");
    });
  }
</script>
